(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{326:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return m}));var a=t(0),r=t.n(a);function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=r.a.createContext({}),b=function(e){var n=r.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=b(e.components);return r.a.createElement(l.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},d=r.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,c=e.originalType,i=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=b(t),d=a,m=p["".concat(i,".").concat(d)]||p[d]||u[d]||c;return t?r.a.createElement(m,o(o({ref:n},l),{},{components:t})):r.a.createElement(m,o({ref:n},l))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var c=t.length,i=new Array(c);i[0]=d;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,i[1]=o;for(var l=2;l<c;l++)i[l]=t[l];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},451:function(e,n,t){"use strict";t.r(n),n.default="data:image/png;base64,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"},83:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return o})),t.d(n,"rightToc",(function(){return s})),t.d(n,"default",(function(){return b}));var a=t(2),r=t(7),c=(t(0),t(326)),i={id:"reactPassMessage",title:"react \u7ec4\u4ef6\u901a\u4fe1",hide_title:!0,sidebar_label:"\u7ec4\u4ef6\u901a\u4fe1"},o={unversionedId:"react/advance/reactPassMessage",id:"react/advance/reactPassMessage",isDocsHomePage:!1,title:"react \u7ec4\u4ef6\u901a\u4fe1",description:"\u4ece\u5b50\u7ea7\u6d41\u5411\u7236\u7ea7",source:"@site/docs/react/advance/\u901a\u4fe1\u65b9\u5f0f.md",slug:"/react/advance/reactPassMessage",permalink:"/docs/react/advance/reactPassMessage",version:"current",sidebar_label:"\u7ec4\u4ef6\u901a\u4fe1",sidebar:"reactdoc",previous:{title:"\u901a\u8fc7\u95ed\u5305\u89e3\u51b3\u5168\u5c40\u72b6\u6001\u95ee\u9898",permalink:"/docs/react/stateManager/reactIIFEStateManager"},next:{title:"react context",permalink:"/docs/react/advance/reactContext"}},s=[{value:"\u4ece\u5b50\u7ea7\u6d41\u5411\u7236\u7ea7",id:"\u4ece\u5b50\u7ea7\u6d41\u5411\u7236\u7ea7",children:[{value:"1. \u5b9e\u4f8b\u65b9\u6cd5",id:"1-\u5b9e\u4f8b\u65b9\u6cd5",children:[]},{value:"2. \u8c03\u7528\u7236\u7ec4\u4ef6\u65b9\u6cd5\u4f20\u9012\u6570\u636e",id:"2-\u8c03\u7528\u7236\u7ec4\u4ef6\u65b9\u6cd5\u4f20\u9012\u6570\u636e",children:[]},{value:"3. \u901a\u8fc7 ref \u8f6c\u53d1",id:"3-\u901a\u8fc7-ref-\u8f6c\u53d1",children:[]}]}],l={rightToc:s};function b(e){var n=e.components,i=Object(r.a)(e,["components"]);return Object(c.b)("wrapper",Object(a.a)({},l,i,{components:n,mdxType:"MDXLayout"}),Object(c.b)("h2",{id:"\u4ece\u5b50\u7ea7\u6d41\u5411\u7236\u7ea7"},"\u4ece\u5b50\u7ea7\u6d41\u5411\u7236\u7ea7"),Object(c.b)("p",null,Object(c.b)("img",{alt:"passMessage",src:t(451).default})),Object(c.b)("h3",{id:"1-\u5b9e\u4f8b\u65b9\u6cd5"},"1. \u5b9e\u4f8b\u65b9\u6cd5"),Object(c.b)("p",null,"\u8fd9\u4e2a\u662f\u5728 ",Object(c.b)("inlineCode",{parentName:"p"},"class")," \u7ec4\u4ef6\u4e2d\u624d\u5b58\u5728\u7684\u60c5\u51b5\uff0c\u56e0\u4e3a ",Object(c.b)("inlineCode",{parentName:"p"},"function")," \u6ca1\u6709\u5b9e\u4f8b"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"{13}","{13}":!0}),"class Child extends React.Component {\n  myFunc() {\n    return \"hello\"\n  }\n}\n\nclass Parent extends React.Component {\n  componentDidMount() {\n    var x = this.foo.myFunc()   // x is now 'hello'\n  }\n  render() {\n    return (\n      <Child\n        ref={foo => { this.foo = foo }}\n      />\n    )\n  }\n}\n")),Object(c.b)("div",{className:"admonition admonition-success alert alert--success"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"success")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"\u5c06 ",Object(c.b)("inlineCode",{parentName:"p"},"ref")," \u8d4b\u503c\u5230\u4e00\u4e2a ",Object(c.b)("inlineCode",{parentName:"p"},"\u7ec4\u4ef6")," \u4e0a\u9762\uff0c\u800c\u4e0d\u662f\u539f\u751f ",Object(c.b)("inlineCode",{parentName:"p"},"element")," \u4e0a\u9762\uff0c\u8fd9\u6837\u80fd\u591f\u62ff\u5230 ",Object(c.b)("inlineCode",{parentName:"p"},"\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u5bf9\u8c61"),",\u90a3\u4e48 ",Object(c.b)("inlineCode",{parentName:"p"},"class \u5b9e\u4f8b")," \u4e0a\u9762\u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\u5c31\u90fd\u53ef\u4ee5\u62ff\u5230\u4e86\uff0c\u548c ",Object(c.b)("inlineCode",{parentName:"p"},"vue\u7684$vm")," \u6709\u70b9\u50cf\u3002"),Object(c.b)("pre",{parentName:"div"},Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-html",metastring:"{8}","{8}":!0}),"<template>\n  <Child ref='child' />\n</template>\n\n<script>\n  export default {\n    created() {\n      const childVNode = this.$refs.child\n      childVNode.todo()\n    }\n  }\n<\/script>\n")))),Object(c.b)("h3",{id:"2-\u8c03\u7528\u7236\u7ec4\u4ef6\u65b9\u6cd5\u4f20\u9012\u6570\u636e"},"2. \u8c03\u7528\u7236\u7ec4\u4ef6\u65b9\u6cd5\u4f20\u9012\u6570\u636e"),Object(c.b)("p",null,"\u7236\u7ec4\u4ef6\u901a\u8fc7 ",Object(c.b)("inlineCode",{parentName:"p"},"prop")," \u4f20\u9012\u4e00\u4e2a\u65b9\u6cd5\uff0c\u5b50\u7ec4\u4ef6\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u6765\u8bbe\u7f6e\u503c\u3002"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"{6,11}","{6,11}":!0}),"function Parent() {\n  const setData = (data) => {\n    ...\n  }\n\n  return <Child setData={setData} />\n}\nfunction Child(props) {\n  const setData = props.setData\n  React.effect(() => {\n    setData({ height: 180 })\n  })\n\n  return <div>child</div>\n}\n")),Object(c.b)("h3",{id:"3-\u901a\u8fc7-ref-\u8f6c\u53d1"},"3. \u901a\u8fc7 ref \u8f6c\u53d1"),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"\u51fd\u6570\u5f0f\u7ec4\u4ef6\u9ed8\u8ba4\u662f\u4e0d\u80fd\u901a\u8fc7 ",Object(c.b)("inlineCode",{parentName:"p"},"prop"),", \u4f20\u9012 ",Object(c.b)("inlineCode",{parentName:"p"},"ref")," \u7684\uff0c\u5fc5\u987b\u901a\u8fc7 ",Object(c.b)("inlineCode",{parentName:"p"},"forwardRef"))),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"\u7236\u7ec4\u4ef6\u4f20\u9012 ",Object(c.b)("inlineCode",{parentName:"li"},"ref")," \u5bf9\u8c61\uff0c\u5b50\u7ec4\u4ef6\u63a5\u6536 ",Object(c.b)("inlineCode",{parentName:"li"},"ref")," \u5e76\u8bbe\u7f6e\u5bf9\u8c61\u7684\u503c")),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"{7,9}","{7,9}":!0}),"function Parent() {\n  const ref = React.useRef()\n\n  return <Child ref={ref} />\n}\n\nconst Child = React.forwardRef(function Child(props, ref) {\n\n  ref.current = { ... }\n\n  return <div>child</div>\n})\n")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"ref")," \u8f6c\u53d1\uff0c\u7ed3\u5408 ",Object(c.b)("inlineCode",{parentName:"li"},"useImperativeHandle"))),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"{3-6}","{3-6}":!0}),"function FancyInput(props, ref) {\n  const inputRef = useRef();\n  useImperativeHandle(ref, () => ({\n    focus: () => {\n      inputRef.current.focus();\n    }\n  }));\n  return <input ref={inputRef} ... />;\n}\n")),Object(c.b)("div",{className:"admonition admonition-success alert alert--success"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"success")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"\u63a8\u8350\u8fd9\u79cd\u505a\u6cd5\uff0c\u56e0\u4e3a\u548c\u4e0a\u9762\u7684\u65b9\u5f0f\u5bf9\u6bd4\uff0c",Object(c.b)("inlineCode",{parentName:"p"},"react")," \u5e94\u5f53\u907f\u514d\u4f7f\u7528 ",Object(c.b)("inlineCode",{parentName:"p"},"ref")," \u8fd9\u6837\u7684\u547d\u4ee4\u5f0f\u4ee3\u7801"))))}b.isMDXComponent=!0}}]);